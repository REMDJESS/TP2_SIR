/*C3*/SET SCHEMA PUBLIC
drop table ElectronicDevice if exists
drop table Heater if exists
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectronicDevice (id bigint generated by default as identity (start with 1), consommation integer not null, home_id bigint, primary key (id))
create table Heater (id bigint generated by default as identity (start with 1), marque varchar(255), home_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), nbpieces integer not null, taille integer not null, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), mail varchar(255), nom varchar(255), prenom varchar(255), home_id bigint, primary key (id))
create table Person_Person (Person_id bigint not null, friend_id bigint not null)
alter table ElectronicDevice add constraint FK3D8541244928464 foreign key (home_id) references Home
alter table Heater add constraint FK809A0ABD44928464 foreign key (home_id) references Home
alter table Person add constraint FK8E48877544928464 foreign key (home_id) references Home
alter table Person_Person add constraint FKB9039F7FB3722E3B foreign key (friend_id) references Person
alter table Person_Person add constraint FKB9039F7F2BBDCE24 foreign key (Person_id) references Person
INSERT INTO HOME VALUES(1,5,50)
INSERT INTO HOME VALUES(2,5,70)
INSERT INTO HOME VALUES(3,6,100)
INSERT INTO PERSON VALUES(1,NULL,'Anani','Ray',NULL)
INSERT INTO PERSON VALUES(2,NULL,'Cohonner','Jules',NULL)
INSERT INTO PERSON VALUES(3,NULL,'Bebe','Safia',NULL)
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
alter table ElectronicDevice drop constraint FK3D8541244928464
alter table Heater drop constraint FK809A0ABD44928464
alter table Person drop constraint FK8E48877544928464
alter table Person_Person drop constraint FKB9039F7FB3722E3B
alter table Person_Person drop constraint FKB9039F7F2BBDCE24
drop table ElectronicDevice if exists
drop table Heater if exists
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectronicDevice (id bigint generated by default as identity (start with 1), consommation integer not null, home_id bigint, primary key (id))
create table Heater (id bigint generated by default as identity (start with 1), marque varchar(255), home_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), nbpieces integer not null, taille integer not null, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), mail varchar(255), nom varchar(255), prenom varchar(255), home_id bigint, primary key (id))
create table Person_Person (Person_id bigint not null, friend_id bigint not null)
alter table ElectronicDevice add constraint FK3D8541244928464 foreign key (home_id) references Home
alter table Heater add constraint FK809A0ABD44928464 foreign key (home_id) references Home
alter table Person add constraint FK8E48877544928464 foreign key (home_id) references Home
alter table Person_Person add constraint FKB9039F7FB3722E3B foreign key (friend_id) references Person
alter table Person_Person add constraint FKB9039F7F2BBDCE24 foreign key (Person_id) references Person
INSERT INTO HOME VALUES(1,5,50)
INSERT INTO HOME VALUES(2,5,70)
INSERT INTO HOME VALUES(3,6,100)
INSERT INTO PERSON VALUES(1,'dd@gmail.com','Anani','Ray',NULL)
INSERT INTO PERSON VALUES(2,NULL,'Cohonner','Jules',NULL)
INSERT INTO PERSON VALUES(3,NULL,'Bebe','Safia',NULL)
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
alter table ElectronicDevice drop constraint FK3D8541244928464
alter table Heater drop constraint FK809A0ABD44928464
alter table Person drop constraint FK8E48877544928464
alter table Person_Person drop constraint FKB9039F7FB3722E3B
alter table Person_Person drop constraint FKB9039F7F2BBDCE24
drop table ElectronicDevice if exists
drop table Heater if exists
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectronicDevice (id bigint generated by default as identity (start with 1), consommation integer not null, home_id bigint, primary key (id))
create table Heater (id bigint generated by default as identity (start with 1), marque varchar(255), home_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), nbpieces integer not null, taille integer not null, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), mail varchar(255), nom varchar(255), prenom varchar(255), home_id bigint, primary key (id))
create table Person_Person (Person_id bigint not null, friend_id bigint not null)
alter table ElectronicDevice add constraint FK3D8541244928464 foreign key (home_id) references Home
alter table Heater add constraint FK809A0ABD44928464 foreign key (home_id) references Home
alter table Person add constraint FK8E48877544928464 foreign key (home_id) references Home
alter table Person_Person add constraint FKB9039F7FB3722E3B foreign key (friend_id) references Person
alter table Person_Person add constraint FKB9039F7F2BBDCE24 foreign key (Person_id) references Person
INSERT INTO HOME VALUES(1,5,50)
INSERT INTO HOME VALUES(2,5,70)
INSERT INTO HOME VALUES(3,6,100)
INSERT INTO PERSON VALUES(1,'dd@gmail.com','Anani','Ray',NULL)
INSERT INTO PERSON VALUES(2,NULL,'Cohonner','Jules',NULL)
INSERT INTO PERSON VALUES(3,NULL,'Bebe','Safia',NULL)
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
alter table ElectronicDevice drop constraint FK3D8541244928464
alter table Heater drop constraint FK809A0ABD44928464
alter table Person drop constraint FK8E48877544928464
alter table Person_Person drop constraint FKB9039F7FB3722E3B
alter table Person_Person drop constraint FKB9039F7F2BBDCE24
drop table ElectronicDevice if exists
drop table Heater if exists
drop table Home if exists
drop table Person if exists
drop table Person_Person if exists
create table ElectronicDevice (id bigint generated by default as identity (start with 1), consommation integer not null, home_id bigint, primary key (id))
create table Heater (id bigint generated by default as identity (start with 1), marque varchar(255), home_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), nbpieces integer not null, taille integer not null, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), mail varchar(255), nom varchar(255), prenom varchar(255), home_id bigint, primary key (id))
create table Person_Person (Person_id bigint not null, friend_id bigint not null)
alter table ElectronicDevice add constraint FK3D8541244928464 foreign key (home_id) references Home
alter table Heater add constraint FK809A0ABD44928464 foreign key (home_id) references Home
alter table Person add constraint FK8E48877544928464 foreign key (home_id) references Home
alter table Person_Person add constraint FKB9039F7FB3722E3B foreign key (friend_id) references Person
alter table Person_Person add constraint FKB9039F7F2BBDCE24 foreign key (Person_id) references Person
INSERT INTO HOME VALUES(1,5,50)
INSERT INTO HOME VALUES(2,5,70)
INSERT INTO HOME VALUES(3,6,100)
INSERT INTO PERSON VALUES(1,'dd@gmail.com','Anani','Ray',NULL)
INSERT INTO PERSON VALUES(2,NULL,'Cohonner','Jules',NULL)
INSERT INTO PERSON VALUES(3,NULL,'Bebe','Safia',NULL)
COMMIT
DISCONNECT
